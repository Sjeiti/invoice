import React, { useEffect, useState } from 'react'
import styled, {css} from 'styled-components'
import {clouding, animate} from '../util/signal'

const Svg = styled.svg`
  fill: #888;
  margin: 0.25rem;
  transform: scale(0.9);
  transition: fill 200ms linear;
  &>g { visibility: hidden; }
  ${props => props.playing===true && css`
    fill: #FFF;
  `}

`

export const CloudNotification = ()=>{
  const [playing, setPlaying] = useState(false)
  const [frame, setFrame] = useState(1)
  //
  useEffect(()=>{
    let animating
    function anim(){
      const newFrame = Math.floor(Date.now()*1E-2)%7+1
      newFrame!==frame && setFrame(newFrame)
    }
    return clouding.add(play=>{
      setPlaying(play)
      if (play) {
        animating = animate.add(anim)
      } else {
        animating&&animating.detach()
      }
    }).detach
  }, [])

  return <Svg
      x="0px"
      y="0px"
      width="32px"
	    height="32px"
      viewBox="0 0 32 32"
      playing={playing}
  >
    <g id="Layer_1" style={{visibility:frame===1&&'visible'||'hidden'}}>
      <g>
        <g>
          <path d="M25,25.6c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
        </g>
      </g>
      <g>
        <g>
          <g>
            <path d="M5.8,23.6c0-0.6-0.2-1.1-0.6-1.4c-0.4-0.4-0.9-0.6-1.4-0.6c-0.6,0-1.1,0.2-1.5,0.6
              C2,22.5,1.8,23,1.8,23.6c0,0.5,0.2,1,0.5,1.4c0.4,0.4,0.9,0.6,1.5,0.6c0.5,0,1-0.2,1.4-0.6C5.6,24.6,5.8,24.1,5.8,23.6z"/>
          </g>
          <g>
            <path d="M8.1,22c0.6-0.6,0.9-1.3,1-2.1c-0.1-0.9-0.4-1.6-1-2.2c-0.6-0.6-1.3-0.9-2.1-0.9c-0.9,0-1.6,0.3-2.3,0.9
              c-0.6,0.6-0.9,1.3-0.8,2.2c-0.1,0.8,0.2,1.5,0.8,2.1c0.7,0.7,1.4,1,2.3,1C6.8,23,7.5,22.7,8.1,22z"/>
          </g>
          <g>
            <path d="M14.8,19c1-0.8,1.4-1.9,1.4-3.2c0-1.2-0.4-2.4-1.4-3.3c-0.8-0.9-1.9-1.3-3.2-1.3c-1.3,0-2.4,0.4-3.3,1.3
              C7.4,13.4,7,14.6,7,15.8c0,1.3,0.4,2.4,1.3,3.2c0.9,1,2,1.4,3.3,1.4C12.9,20.4,14,20,14.8,19z"/>
          </g>
          <g>
            <path d="M27,18.8c1.4-1.3,2.1-2.9,2.1-4.9c0-1.9-0.7-3.6-2.1-5c-1.3-1.4-3-2-4.9-2c-2,0-3.7,0.6-5,2
              c-1.4,1.4-2,3.1-2,5c0,2,0.6,3.6,2,4.9c1.3,1.4,3,2.1,5,2.1C24,20.9,25.7,20.2,27,18.8z"/>
          </g>
          <g>
            <path d="M29.6,20.9c0-1.2-0.4-2.3-1.4-3.3c-0.8-0.8-1.9-1.3-3.2-1.3s-2.4,0.5-3.3,1.3c-0.9,1-1.3,2.1-1.3,3.3
              c0,1.3,0.4,2.4,1.3,3.3c0.9,0.9,2,1.4,3.3,1.4s2.4-0.5,3.2-1.4C29.2,23.3,29.6,22.2,29.6,20.9z"/>
          </g>
        </g>
      </g>
    </g>
    <g id="Layer_2" style={{visibility:frame===2&&'visible'||'hidden'}}>
      <g>
        <g>
          <path d="M25,25.7c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
        </g>
      </g>
      <g>
        <g>
          <path d="M6.2,22.9c0-0.6-0.2-1.1-0.7-1.6c-0.4-0.4-1-0.6-1.5-0.6c-0.6,0-1.2,0.2-1.6,0.6c-0.4,0.5-0.6,1-0.6,1.6
            S2,24,2.4,24.4c0.4,0.5,1,0.7,1.6,0.7c0.5,0,1.1-0.2,1.5-0.7C6,24,6.2,23.5,6.2,22.9z"/>
        </g>
        <g>
          <path d="M9.1,21.6c0.7-0.7,1-1.5,1.1-2.4c-0.1-1-0.4-1.8-1.1-2.5c-0.6-0.6-1.4-1-2.4-1c-0.9,0-1.7,0.4-2.5,1
            c-0.6,0.7-1,1.5-0.9,2.5c-0.1,0.9,0.3,1.7,0.9,2.4c0.8,0.7,1.6,1,2.5,1C7.7,22.6,8.5,22.3,9.1,21.6z"/>
        </g>
        <g>
          <path d="M16.1,18.7c1-0.9,1.5-2.1,1.5-3.5c0-1.3-0.5-2.5-1.5-3.5c-0.9-0.9-2.1-1.4-3.5-1.4s-2.5,0.5-3.5,1.4
            c-1,1-1.4,2.2-1.4,3.5c0,1.4,0.4,2.6,1.4,3.5c1,1,2.1,1.5,3.5,1.5S15.2,19.7,16.1,18.7z"/>
        </g>
        <g>
          <path d="M27.5,19c1.3-1.3,2-2.8,2-4.7c0-1.9-0.7-3.5-2-4.9c-1.3-1.3-2.9-1.9-4.8-1.9c-1.8,0-3.4,0.6-4.8,1.9
            c-1.3,1.4-1.9,3-1.9,4.9c0,1.9,0.6,3.4,1.9,4.7c1.4,1.4,3,2,4.8,2C24.6,21,26.2,20.4,27.5,19z"/>
        </g>
        <g>
          <path d="M29.2,21.3c0-1.2-0.5-2.2-1.3-3.1c-0.9-0.8-1.9-1.3-3.1-1.3s-2.2,0.5-3.1,1.3c-0.8,0.9-1.3,1.9-1.3,3.1
            c0,1.2,0.5,2.3,1.3,3.1c0.9,0.9,1.9,1.3,3.1,1.3s2.2-0.4,3.1-1.3C28.7,23.6,29.2,22.5,29.2,21.3z"/>
        </g>
        <g>
          <path d="M4.5,24.9c0-0.2,0-0.4-0.1-0.5c-0.2-0.1-0.4-0.2-0.6-0.2c-0.2,0-0.4,0.1-0.5,0.2
            c-0.1,0.1-0.2,0.3-0.2,0.5c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2c0.2,0,0.4-0.1,0.6-0.2C4.5,25.3,4.5,25.1,4.5,24.9z"/>
        </g>
      </g>
    </g>
    <g id="Layer_3" style={{visibility:frame===3&&'visible'||'hidden'}}>
      <g>
        <g>
          <path d="M25,25.6c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
        </g>
      </g>
      <g>
        <g>
          <path d="M5.4,23.4C5.8,23,6,22.5,6,22c0-0.6-0.2-1.1-0.6-1.5S4.5,19.9,4,19.9s-1,0.2-1.4,0.6
            C2.1,20.9,2,21.4,2,22c0,0.5,0.1,1,0.6,1.4C3,23.8,3.5,24,4,24S5,23.8,5.4,23.4z"/>
        </g>
        <g>
          <path d="M9.5,20.5c0.6-0.7,1-1.4,1-2.4c0-0.9-0.4-1.7-1-2.3c-0.7-0.7-1.4-1-2.4-1c-0.9,0-1.7,0.3-2.4,1
            c-0.7,0.6-0.9,1.4-0.9,2.3c0,1,0.2,1.7,0.9,2.4c0.7,0.6,1.5,1,2.4,1C8.1,21.5,8.8,21.1,9.5,20.5z"/>
        </g>
        <g>
          <path d="M16.9,17.8c0.9-0.9,1.4-2.1,1.4-3.5c0-1.3-0.5-2.5-1.4-3.5c-1-0.9-2.1-1.4-3.5-1.4
            c-1.3,0-2.5,0.5-3.5,1.4c-0.9,1-1.4,2.2-1.4,3.5c0,1.4,0.5,2.6,1.4,3.5c1,1,2.2,1.5,3.5,1.5C14.8,19.3,15.9,18.8,16.9,17.8z"/>
        </g>
        <g>
          <path d="M28,19.3c1.3-1.2,2-2.7,2-4.5c0-1.9-0.7-3.4-2-4.7c-1.2-1.3-2.7-1.9-4.5-1.9c-1.9,0-3.4,0.6-4.7,1.9
            c-1.3,1.3-1.9,2.8-1.9,4.7c0,1.8,0.6,3.3,1.9,4.5c1.3,1.3,2.8,2,4.7,2C25.3,21.3,26.8,20.6,28,19.3z"/>
        </g>
        <g>
          <path d="M28.8,21.7c0-1.1-0.4-2.1-1.2-2.8c-0.8-0.8-1.7-1.2-2.8-1.2c-1.1,0-2,0.4-2.8,1.2
            c-0.7,0.7-1.1,1.7-1.1,2.8c0,1,0.4,2,1.1,2.7c0.8,0.8,1.7,1.2,2.8,1.2c1.1,0,2-0.4,2.8-1.2C28.4,23.7,28.8,22.7,28.8,21.7z"/>
        </g>
        <g>
          <path d="M4.7,25.3C4.9,25,5,24.8,5,24.5S4.9,24,4.7,23.8c-0.2-0.2-0.5-0.3-0.8-0.3c-0.3,0-0.5,0.1-0.7,0.3
            C3,24,2.9,24.2,2.9,24.5S3,25,3.2,25.3c0.2,0.2,0.4,0.3,0.7,0.3C4.2,25.6,4.5,25.5,4.7,25.3z"/>
        </g>
      </g>
    </g>
    <g id="Layer_4" style={{visibility:frame===4&&'visible'||'hidden'}}>
      <g>
        <g>
          <path d="M25,25.6c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
        </g>
      </g>
      <g>
        <g>
          <path d="M6,22.8c0.4-0.4,0.6-0.9,0.6-1.5c0-0.6-0.2-1.1-0.6-1.6c-0.5-0.4-1-0.6-1.6-0.6s-1.1,0.2-1.5,0.6
            c-0.5,0.5-0.7,1-0.7,1.6c0,0.6,0.2,1.1,0.7,1.5c0.4,0.5,0.9,0.7,1.5,0.7S5.5,23.3,6,22.8z"/>
        </g>
        <g>
          <path d="M10.6,20c0.7-0.7,1.1-1.5,1.1-2.6c0-1-0.4-1.8-1.1-2.6c-0.7-0.7-1.5-1.1-2.6-1.1c-1,0-1.9,0.4-2.6,1.1
            c-0.7,0.8-1,1.6-1,2.6c0,1.1,0.3,1.9,1,2.6C6.1,20.7,7,21.1,8,21.1C9.1,21.1,9.9,20.7,10.6,20z"/>
        </g>
        <g>
          <path d="M18.6,17.5c1-1.1,1.5-2.3,1.5-3.8s-0.5-2.7-1.5-3.8c-1-1-2.3-1.5-3.7-1.5c-1.5,0-2.8,0.5-3.8,1.5
            c-1,1.1-1.6,2.3-1.6,3.8s0.6,2.7,1.6,3.8c1,1,2.3,1.5,3.8,1.5C16.3,19,17.6,18.5,18.6,17.5z"/>
        </g>
        <g>
          <path d="M28.5,20.1c1.2-1.3,1.9-2.7,1.9-4.5c0-1.8-0.7-3.3-1.9-4.5c-1.2-1.2-2.7-1.8-4.4-1.8
            c-1.8,0-3.3,0.6-4.6,1.8c-1.2,1.2-1.8,2.7-1.8,4.5c0,1.8,0.6,3.2,1.8,4.5c1.3,1.2,2.8,1.8,4.6,1.9C25.8,21.9,27.3,21.3,28.5,20.1
            z"/>
        </g>
        <g>
          <path d="M28.7,22c0-1-0.4-1.9-1.1-2.5c-0.7-0.7-1.6-1.1-2.6-1.1s-1.9,0.4-2.6,1.1c-0.6,0.6-1,1.5-1,2.5
            s0.4,1.9,1,2.6c0.7,0.7,1.6,1,2.6,1s1.9-0.3,2.6-1C28.3,23.9,28.7,23,28.7,22z"/>
        </g>
        <g>
          <path d="M4.9,25.3c0.2-0.3,0.3-0.6,0.3-0.9c0-0.4-0.1-0.7-0.3-0.9c-0.3-0.2-0.6-0.4-0.9-0.4
            c-0.4,0-0.7,0.2-0.9,0.4c-0.3,0.2-0.4,0.5-0.4,0.9c0,0.3,0.1,0.6,0.4,0.9c0.2,0.2,0.5,0.3,0.9,0.3C4.3,25.6,4.6,25.5,4.9,25.3z"
            />
        </g>
      </g>
    </g>
    <g id="Layer_5" style={{visibility:frame===5&&'visible'||'hidden'}}>
      <g>
        <g>
          <path d="M25,25.6c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
        </g>
      </g>
      <g>
        <g>
          <path d="M6.7,22.6c0.5-0.5,0.7-1.1,0.7-1.8S7.2,19.5,6.7,19s-1.1-0.7-1.8-0.7c-0.7,0-1.3,0.2-1.8,0.7
            s-0.7,1.1-0.7,1.8s0.2,1.3,0.7,1.8s1.1,0.7,1.8,0.7C5.6,23.3,6.2,23.1,6.7,22.6z"/>
        </g>
        <g>
          <path d="M11.5,19.7c0.8-0.8,1.2-1.7,1.2-2.8c0-1-0.4-2-1.2-2.7c-0.7-0.8-1.7-1.1-2.7-1.1c-1.1,0-2.1,0.3-2.8,1.1
            c-0.8,0.7-1.2,1.7-1.1,2.7c-0.1,1.1,0.3,2,1.1,2.8c0.7,0.7,1.7,1.1,2.8,1.1C9.8,20.8,10.8,20.4,11.5,19.7z"/>
        </g>
        <g>
          <path d="M20.4,9.3c-1.1-1.1-2.4-1.6-4-1.6c-1.5,0-2.8,0.5-3.9,1.6c-1.1,1.1-1.6,2.4-1.6,3.9c0,1.6,0.5,2.9,1.6,4
            c1.1,1.1,2.4,1.6,3.9,1.6c1.6,0,2.9-0.5,4-1.6c1.1-1.1,1.6-2.4,1.6-4C22,11.7,21.5,10.4,20.4,9.3z"/>
        </g>
        <g>
          <path d="M28.8,21.3c1.1-1.2,1.7-2.6,1.8-4.2c-0.1-1.7-0.7-3.1-1.8-4.3c-1.2-1.2-2.6-1.7-4.2-1.7
            c-1.7,0-3.1,0.5-4.3,1.7c-1.2,1.2-1.7,2.6-1.7,4.3c0,1.6,0.5,3,1.7,4.2s2.6,1.8,4.3,1.8C26.2,23.1,27.6,22.5,28.8,21.3z"/>
        </g>
        <g>
          <path d="M28.2,22.3c0-0.9-0.3-1.6-1-2.3c-0.6-0.6-1.3-0.9-2.2-0.9c-1,0-1.7,0.3-2.4,0.9c-0.6,0.7-0.9,1.4-0.9,2.3
            c0,0.9,0.3,1.7,0.9,2.3c0.7,0.6,1.4,0.9,2.4,1c0.9-0.1,1.6-0.4,2.2-1C27.9,24,28.2,23.2,28.2,22.3z"/>
        </g>
        <g>
          <path d="M4.9,23.1c-0.2-0.2-0.6-0.4-1-0.4s-0.7,0.2-1,0.4c-0.2,0.3-0.4,0.7-0.4,1.1c0,0.3,0.2,0.7,0.4,1
            c0.3,0.2,0.6,0.4,1,0.4s0.8-0.2,1-0.4c0.3-0.3,0.5-0.7,0.5-1C5.4,23.8,5.2,23.4,4.9,23.1z"/>
        </g>
      </g>
    </g>
    <g id="Layer_6" style={{visibility:frame===6&&'visible'||'hidden'}}>
      <g>
        <g>
          <g>
            <path d="M25,25.6c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
          </g>
        </g>
        <g>
          <g>
            <path d="M7.2,22.4c0.5-0.6,0.8-1.2,0.8-2c0-0.7-0.3-1.4-0.8-1.9c-0.6-0.5-1.2-0.7-2-0.7c-0.7,0-1.4,0.2-1.9,0.7
              s-0.7,1.2-0.7,1.9c0,0.8,0.2,1.4,0.7,2c0.5,0.5,1.2,0.8,1.9,0.8C6,23.2,6.6,22.9,7.2,22.4z"/>
          </g>
          <g>
            <path d="M13,19.2c0.8-0.8,1.3-1.8,1.3-3.1c0-1.1-0.5-2.2-1.3-3c-0.8-0.8-1.9-1.3-3-1.3c-1.2,0-2.3,0.5-3.1,1.3
              c-0.8,0.8-1.3,1.9-1.2,3c-0.1,1.3,0.4,2.3,1.2,3.1c0.8,0.8,1.9,1.2,3.1,1.2C11.1,20.4,12.2,20,13,19.2z"/>
          </g>
          <g>
            <path d="M22.5,9c-1.1-1.1-2.5-1.7-4.1-1.7c-1.7,0-3.1,0.6-4.3,1.7c-1.1,1.1-1.6,2.5-1.6,4.1
              c0,1.7,0.5,3.1,1.6,4.2c1.2,1.2,2.6,1.7,4.3,1.7c1.6,0,3-0.5,4.1-1.7c1.1-1.1,1.7-2.5,1.7-4.2C24.2,11.5,23.6,10.1,22.5,9z"/>
          </g>
          <g>
            <path d="M28.7,22.3c1.1-1.1,1.7-2.4,1.7-4c0-1.5-0.6-2.9-1.7-4c-1.1-1.1-2.4-1.6-3.9-1.6c-1.6,0-3,0.5-4.1,1.6
              c-1.1,1.1-1.6,2.5-1.6,4c0,1.6,0.5,2.9,1.6,4c1.1,1.1,2.5,1.7,4.1,1.7C26.3,24,27.6,23.4,28.7,22.3z"/>
          </g>
          <g>
            <path d="M27.8,22.8c-0.1-0.7-0.3-1.4-0.9-1.9c-0.5-0.6-1.1-0.8-1.9-0.8s-1.4,0.2-2,0.8c-0.5,0.5-0.7,1.2-0.7,1.9
              c0,0.8,0.2,1.4,0.7,1.9c0.6,0.6,1.2,0.8,2,0.9c0.8-0.1,1.4-0.3,1.9-0.9C27.5,24.2,27.7,23.6,27.8,22.8z"/>
          </g>
          <g>
            <path d="M4.9,22.9c-0.3-0.2-0.6-0.4-1.1-0.4c-0.4,0-0.8,0.2-1.1,0.4c-0.2,0.3-0.4,0.7-0.4,1.1s0.2,0.8,0.4,1.1
              c0.3,0.3,0.7,0.5,1.1,0.5c0.5,0,0.8-0.2,1.1-0.5c0.3-0.3,0.5-0.7,0.5-1.1S5.2,23.2,4.9,22.9z"/>
          </g>
        </g>
      </g>
    </g>
    <g id="Layer_7" style={{visibility:frame===7&&'visible'||'hidden'}}>
      <g>
        <g>
          <g>
            <path d="M25,25.6c1.8-9.3-0.6-13.2-7.3-11.6c-4.5,1-8.8,3.3-12.6,7c-1.5,1.3-1.9,2.9-1.3,4.6H25z"/>
          </g>
        </g>
        <g>
          <g>
            <path d="M5.6,23.2c0.8,0,1.5-0.3,2.1-0.9c0.5-0.5,0.8-1.2,0.9-2.1c-0.1-0.8-0.4-1.5-0.9-2.1
              c-0.6-0.5-1.3-0.8-2.1-0.8c-0.8,0-1.6,0.3-2.1,0.8c-0.5,0.6-0.8,1.3-0.8,2.1c0,0.9,0.3,1.6,0.8,2.1C4,22.9,4.8,23.2,5.6,23.2z"
              />
          </g>
          <g>
            <path d="M6.6,15.8C6.6,17,7,18.1,7.9,19s2,1.3,3.3,1.4c1.2-0.1,2.3-0.5,3.1-1.4c0.9-0.9,1.4-2,1.4-3.2
              c0-1.2-0.5-2.4-1.4-3.2c-0.8-0.9-1.9-1.4-3.1-1.4c-1.3,0-2.4,0.5-3.3,1.4C7,13.4,6.6,14.6,6.6,15.8z"/>
          </g>
          <g>
            <path d="M26.7,12.8c0-1.7-0.6-3.1-1.7-4.2c-1.2-1.2-2.5-1.7-4.2-1.7c-1.6,0-3,0.5-4.1,1.7
              c-1.2,1.1-1.7,2.5-1.7,4.2c0,1.6,0.5,3,1.7,4.1c1.1,1.1,2.5,1.7,4.1,1.7c1.7,0,3-0.6,4.2-1.7C26.1,15.8,26.7,14.4,26.7,12.8z"/>
          </g>
          <g>
            <path d="M24.8,14.1c-1.5,0-2.8,0.5-3.9,1.5c-1,1-1.5,2.3-1.5,3.8s0.5,2.8,1.5,3.8c1.1,1,2.4,1.6,3.9,1.6
              c1.4,0,2.7-0.6,3.7-1.6c1.1-1,1.6-2.3,1.6-3.8s-0.5-2.8-1.6-3.8C27.5,14.6,26.2,14.1,24.8,14.1z"/>
          </g>
          <g>
            <path d="M23.4,21.8c-0.4,0.4-0.6,0.9-0.6,1.6c0,0.6,0.2,1.1,0.6,1.5c0.4,0.4,1,0.7,1.6,0.7s1.1-0.3,1.5-0.7
              c0.5-0.4,0.7-0.9,0.7-1.5c0-0.7-0.2-1.2-0.7-1.6c-0.4-0.4-0.9-0.6-1.5-0.6S23.8,21.4,23.4,21.8z"/>
          </g>
          <g>
            <path d="M3.9,22c-0.5,0-0.9,0.2-1.3,0.5c-0.3,0.4-0.5,0.8-0.5,1.3s0.2,0.9,0.5,1.2c0.4,0.4,0.8,0.6,1.3,0.6
              s0.9-0.2,1.2-0.6c0.4-0.3,0.6-0.7,0.6-1.2s-0.2-0.9-0.6-1.3C4.8,22.2,4.4,22,3.9,22z"/>
          </g>
        </g>
      </g>
    </g>
  </Svg>
}