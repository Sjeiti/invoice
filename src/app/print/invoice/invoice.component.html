<div class="invoice">
  <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono|Istok+Web:400,400italic,700,700italic' rel='stylesheet' type='text/css'/>
  <style>{{config.invoiceCSS}}</style>
  <!--<div [innerHTML]="config.invoiceCSS"></div>-->
  <header>
    <div class="page">
      <div class="wrapper block clearfix">
        <div id="logo"></div>
        <div class="left client" [innerHTML]="parse('receiver') | safeHtml"></div>
        <div class="right text-right" [innerHTML]="parse('sender') | safeHtml"></div>
      </div>
    </div>
  </header>
  <div class="page">
    <div class="wrapper block clearfix">
      <dl class="float-right text-right">
        <dt>{{__('date')}}</dt>
        <dd>{{(isQuotation?project.quotationDate:invoice.date) | date:copy.dateFormat[config.lang]}}</dd>
      </dl>
      <dl class="list">
        <dt class="type">{{isQuotation?__('quotation'):(invoiceIndex>0?invoice.exhortation?__('exhortation'):invoiceIndex+'e '+__('reminder'):__('invoice'))}}</dt>
        <dd *ngIf="!isQuotation">{{__('number')}} {{project.invoiceNr}}</dd>
      </dl>
      <dl class="list">
        <dt>{{__('concerns')}}</dt>
        <dd>{{project.description}}</dd>
      </dl>
      <small *ngIf="invoiceIndex>0&&!invoice.interest" [innerHTML]="parse('reminder1') | safeHtml"></small>
      <small *ngIf="invoiceIndex>0&&invoice.interest&&!invoice.exhortation" [innerHTML]="parse('reminder2') | safeHtml"></small>
      <small *ngIf="invoiceIndex>0&&invoice.interest&&invoice.exhortation" [innerHTML]="parse('exhortation_') | safeHtml"></small>
    </div>
    <!--isQuotation-->
    <div *ngIf="isQuotation" [innerHTML]="parse(project.quotationBefore) | safeHtml" class="wrapper"></div>
    <!--isQuotation-->
    <div class="wrapper">
      <h3 class="payment">{{__('payment')}}</h3>
      <table cellspacing="0" cellpadding="0">
        <thead>
        <tr>
          <th></th>
          <th>{{__('amount')}}</th>
          <th>{{__('vat')}}</th>
        </tr>
        </thead>
        <!--lines-->
        <tbody>
        <tr *ngFor="let line of project.lines">
          <td>{{line.description}}</td>
          <td><app-currency [amount]="line.amount"></app-currency></td>
          <td><app-currency [amount]="line.amount*line.vat/100"></app-currency></td>
        </tr>
        </tbody>
        <!--subtotal discount-->
        <tbody *ngIf="project.discount!==0">
        <tr class="separate add"><td colspan="3"></td></tr>
        <tr>
          <td>{{__('subtotal')}}</td>
          <td><app-currency [amount]="project.total"></app-currency></td>
          <td><app-currency [amount]="project.totalVat"></app-currency></td>
        </tr>
        <tr>
          <td>{{__('discount')}} {{project.discount}}%<!-- | number:2--></td>
          <td><app-currency [amount]="project.totalDiscount"></app-currency></td>
          <td><app-currency [amount]="project.totalVatDiscount"></app-currency></td>
        </tr>
        </tbody>
        <!--subtotal no discount-->
        <tbody *ngIf="project.discount===0&&project.lines.length>1">
        <tr class="separate add"><td colspan="3"></td></tr>
        <tr>
          <td>{{__('subtotal')}}</td>
          <td><app-currency [amount]="project.total"></app-currency></td>
          <td><app-currency [amount]="project.totalVat"></app-currency></td>
        </tr>
        </tbody>
        <!--total no interest-->
        <tbody *ngIf="!invoice.interest">
        <tr class="separate add">
          <td colspan="3"></td>
        </tr>
        <tr class="total">
          <td>{{__('total')}}</td>
          <td colspan="2"><app-currency [amount]="project.totalIncDiscounted"></app-currency></td>
        </tr>
        </tbody>
        <!--total interest-->
        <tbody *ngIf="invoice.interest">
        <tr>
          <td>{{__('administrationCosts')}}</td>
          <td><app-currency [amount]="personal.administrationCosts"></app-currency></td>
          <td></td>
        </tr>
        <tr>
          <td>{{__('legalInterest')}} {{personal.interestAmount}}%</td>
          <td><app-currency [amount]="project.interest"></app-currency></td>
          <td></td>
        </tr>
        <tr class="separate add"><td colspan="3"></td></tr>
        <tr class="total">
          <td>{{__('total')}}</td>
          <td colspan="2"><app-currency [amount]="project.totalIncDiscountedInterest"></app-currency></td>
        </tr>
        </tbody>
      </table>
    </div>
    <!--isQuotation-->
    <div *ngIf="isQuotation" [innerHTML]="parse(project.quotationAfter) | safeHtml" class="wrapper"></div>
    <!--isQuotation-->
  </div>
  <footer class="wrapper">
    <div class="page" *ngIf="!isQuotation" [innerHTML]="parse(__('footer'))"></div>
  </footer>
</div>